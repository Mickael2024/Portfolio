
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
</head>
<body>
    
<input type="file" id="imageInput">
<button onclick="uploadToImgBB()">Téléverser</button>

<img id="preview" src="" width="150">
<p id="imageURL"></p>

<script>
  const apiKey = fa68f31b492843d8ba583257328b2f29; // Remplace par ta clé ImgBB

  function uploadToImgBB() {
    const file = document.getElementById("imageInput").files[0];
    if (!file) return alert("Choisis une image");

    const formData = new FormData();
    formData.append("image", file);

    console.log("Fichier sélectionné :", file);

    fetch(`https://api.imgbb.com/1/upload?key=${apiKey}`, {
      method: "POST",
      body: formData
    })
    .then(res => res.json())
    .then(data => {
      if (data.success) {
        const imageUrl = data.data.url;
        document.getElementById("preview").src = imageUrl;
        document.getElementById("imageURL").textContent = imageUrl;
        console.log("Image enregistrée :", imageUrl);
      } else {
        console.error("Erreur dans la réponse ImgBB :", data);
        alert("Erreur de téléversement ImgBB : " + data.error.message);
      }
    })
    .catch(err => {
      console.error("Erreur ImgBB :", err);
      alert("Échec de l’upload : " + err.message);
    });
  }
</script>
</body>
</html>
